<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Recon-ng ‚Äî From Installation to Advanced Recon (Interactive)</title>
  <meta name="color-scheme" content="light dark" />
  <style>
    /* ===== Design tokens (high contrast in both themes) ===== */
    :root {
      --bg: #ffffff;
      --bg-soft: #f7f7fb;
      --panel: #fafafe;
      --text: #0b1220;          /* very dark for readability */
      --text-soft: #1f2937;     /* still dark, higher contrast than gray */
      --muted: #4b5563;
      --link: #1d4ed8;          /* AA+ contrast on white */
      --link-visited: #6d28d9;
      --primary: #2563eb;       /* buttons & accents */
      --primary-contrast: #ffffff;
      --accent: #059669;
      --danger: #dc2626;
      --warning: #c2410c;
      --border: #e5e7eb;
      --code-bg: #f1f5f9;       /* slate-100 */
      --shadow: 0 6px 18px rgba(0,0,0,.08);
      --ring: 0 0 0 3px rgba(37,99,235,.25);
      --font-body: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }
    [data-theme="dark"] {
      --bg: #0b0f14;            /* near-black, not pure #000 for comfort */
      --bg-soft: #0f1721;
      --panel: #111827;         /* slate-900 */
      --text: #f8fafc;          /* almost white */
      --text-soft: #e5e7eb;     /* light gray */
      --muted: #cbd5e1;         /* slate-300 */
      --link: #93c5fd;          /* light blue for dark bg */
      --link-visited: #c4b5fd;
      --primary: #60a5fa;       /* lighter primary for dark */
      --primary-contrast: #0b0f14;
      --accent: #34d399;
      --danger: #f87171;
      --warning: #f59e0b;
      --border: #1f2937;
      --code-bg: #0a0f16;       /* darker than panel for clear contrast */
      --shadow: 0 10px 26px rgba(0,0,0,.45);
      --ring: 0 0 0 3px rgba(148,163,184,.35);
    }

    html, body { height: 100%; }
    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: var(--font-body);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
    }
    a { color: var(--link); text-decoration: underline; text-underline-offset: 2px; }
    a:visited { color: var(--link-visited); }

    .app { display:grid; grid-template-columns: 300px 1fr; gap: 22px; max-width: 1400px; margin:0 auto; padding: 22px; }
    .sidebar { position: sticky; top: 16px; align-self: start; background: var(--panel); border:1px solid var(--border); border-radius:16px; box-shadow: var(--shadow); padding:16px; max-height: calc(100vh - 32px); overflow:auto; }
    .brand { display:flex; align-items:center; gap:10px; margin-bottom: 12px; }
    .brand .logo { width:28px; height:28px; border-radius: 8px; background: linear-gradient(145deg, var(--primary), var(--accent)); }
    .brand h1 { font-size:1.1rem; margin:0; letter-spacing:.2px; }

    .toggle-row { display:flex; align-items:center; justify-content: space-between; gap:8px; }
    .btn { cursor:pointer; border:1px solid var(--border); background: var(--panel); color: var(--text); border-radius: 10px; padding: 8px 12px; box-shadow: var(--shadow); }
    .btn.primary { background: var(--primary); color: var(--primary-contrast); border-color: transparent; }
    .btn.ghost { background: transparent; }

    .search { margin: 12px 0 8px; }
    .search input { width:100%; padding:10px 12px; border-radius:12px; border:1px solid var(--border); background: var(--bg); color: var(--text); outline: none; }
    .search input:focus { box-shadow: var(--ring); border-color: var(--primary); }

    .toc { list-style:none; margin:10px 0 0; padding:0; }
    .toc li { margin: 6px 0; }
    .toc a { display:block; padding:6px 8px; border-radius:8px; text-decoration:none; color: var(--text-soft); }
    .toc a.active, .toc a:hover { background: var(--bg-soft); color: var(--text); }

    .content { min-height: 100vh; }
    .hero { background: linear-gradient(135deg, var(--panel), var(--bg-soft)); border:1px solid var(--border); border-radius:18px; padding: 20px; display:grid; grid-template-columns: 1.15fr .85fr; gap:18px; align-items:center; box-shadow: var(--shadow); }
    .hero h2 { margin:0 0 8px; font-size:1.6rem; }
    .kpis { display:flex; gap: 10px; flex-wrap: wrap; margin-top: 8px; }
    .chip { padding:6px 10px; border-radius: 999px; border:1px solid var(--border); background: var(--bg); }

    .card { background: var(--panel); border:1px solid var(--border); border-radius:16px; box-shadow: var(--shadow); padding: 16px; }
    .grid { display:grid; gap:16px; }
    .grid.cols-2 { grid-template-columns: repeat(2, minmax(0,1fr)); }
    .grid.cols-3 { grid-template-columns: repeat(3, minmax(0,1fr)); }

    section { scroll-margin-top: 90px; }
    h3 { margin-top: 28px; font-size: 1.28rem; }
    h4 { margin-top: 16px; font-size: 1.08rem; color: var(--text); }
    p { margin: 10px 0; color: var(--text-soft); }
    ul, ol { margin: 8px 0 8px 24px; }

    pre, code, kbd, samp { font-family: var(--font-mono); }
    pre { background: var(--code-bg); color: var(--text); border-radius:12px; padding:12px; overflow:auto; border:1px solid var(--border); position: relative; }
    .copy { position:absolute; top:8px; right:8px; }

    details { border:1px solid var(--border); border-radius:12px; padding:10px 12px; background: var(--panel); }
    details + details { margin-top: 10px; }
    summary { cursor:pointer; font-weight:600; }

    .callout { border-left:4px solid var(--primary); padding: 10px 12px; background: var(--bg-soft); border-radius: 10px; }
    .callout.warn { border-left-color: var(--warning); }
    .callout.danger { border-left-color: var(--danger); }

    .step { display:flex; gap:10px; align-items:flex-start; }
    .step .bubble { width:28px; height:28px; border-radius:999px; background: var(--primary); color: var(--primary-contrast); display:grid; place-items:center; font-weight:700; flex:none; }

    .footer { margin: 40px 0 10px; text-align:center; color: var(--muted); }

    @media (max-width: 980px) { .app { grid-template-columns: 1fr; } .hero { grid-template-columns: 1fr; } .sidebar { position: static; max-height: none; } }
  </style>
</head>
<body>
  <div id="root" class="app">
    <nav class="sidebar" aria-label="Table of contents & tools">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <h1>Recon-ng ‚Äî Lecture</h1>
      </div>
      <div class="toggle-row">
        <span>Theme</span>
        <div>
          <button id="themeLight" class="btn" title="Switch to light">Light</button>
          <button id="themeDark" class="btn" title="Switch to dark">Dark</button>
        </div>
      </div>
      <div class="search" role="search">
        <input id="search" type="search" placeholder="Filter sections‚Ä¶ (e.g., marketplace)" aria-label="Filter content" />
      </div>
      <ul id="toc" class="toc"></ul>
      <div style="margin-top:12px; display:flex; gap:8px; flex-wrap:wrap;">
        <button class="btn ghost" id="expandAll">Expand all</button>
        <button class="btn ghost" id="collapseAll">Collapse all</button>
      </div>
    </nav>

    <main class="content" id="content">
      <header class="hero">
        <div>
          <h2>Recon-ng: From Installation to Advanced Reconnaissance</h2>
          <p>Interactive, student‚Äëfriendly guide for CYB‚Äë301. Learn the workflow, run hands‚Äëon modules, and export actionable intel.</p>
          <div class="kpis">
            <span class="chip">‚è±Ô∏è 60 minutes</span>
            <span class="chip">üéØ Passive & active recon</span>
            <span class="chip">üêß Kali ‚Ä¢ üêç Python ‚Ä¢ üíæ SQLite</span>
          </div>
        </div>
        <div class="card">
          <strong>Quick Actions</strong>
          <div class="grid cols-2" style="margin-top:10px;">
            <button class="btn primary" data-jump="intro">Intro</button>
            <button class="btn" data-jump="install">Install</button>
            <button class="btn" data-jump="workflow">Workflow</button>
            <button class="btn" data-jump="mission">Walkthrough</button>
          </div>
        </div>
      </header>

      <!-- 1) Introduction -->
      <section id="intro" data-keywords="recon introduction passive active structured approach">
        <h3>1) Introduction to Reconnaissance</h3>
        <p><strong>Reconnaissance</strong> ("recon") is the first phase of a penetration test: gathering target intel to build a precise picture before any exploitation. Passive recon pulls from public sources; active recon touches the target directly (noisier, detectable).</p>
        <div class="grid cols-3">
          <div class="card"><h4>Passive Recon</h4><ul>
            <li>Public data: search engines, WHOIS, DNS, job posts</li>
            <li>Low risk of detection</li>
          </ul></div>
          <div class="card"><h4>Active Recon</h4><ul>
            <li>Direct interaction: port scans, banners</li>
            <li>Higher fidelity, but detectable</li>
          </ul></div>
          <div class="card"><h4>Why Structure?</h4><ul>
            <li>Centralize data & avoid duplicates</li>
            <li>Enable pivoting and analysis</li>
          </ul></div>
        </div>
      </section>

      <!-- 2) Recon-ng Overview -->
      <section id="overview" data-keywords="recon-ng framework modular database driven features why choose">
        <h3>2) Introducing Recon-ng</h3>
        <p><strong>Recon-ng</strong> is a modular, Python‚Äëbased recon framework modeled after Metasploit. It automates web‚Äëcentric OSINT while storing everything in a workspace database.</p>
        <div class="grid cols-3">
          <div class="card"><h4>Key Features</h4><ul>
            <li>Modular shell workflow</li>
            <li>Per‚Äëworkspace SQLite database</li>
            <li>Marketplace to add modules</li>
            <li>Central API key management</li>
          </ul></div>
          <div class="card"><h4>Why Recon-ng?</h4><ul>
            <li>Repeatable, structured processes</li>
            <li>Queryable data for pivoting</li>
            <li>Extensible via Marketplace</li>
          </ul></div>
          <div class="card"><h4>Compared to Others</h4><ul>
            <li>Stronger data management than single‚Äërun tools</li>
            <li>Interactive investigation vs. static dumps</li>
          </ul></div>
        </div>
      </section>

      <!-- 3) Installation & Setup -->
      <section id="install" data-keywords="install setup kali linux pip python workspace launch">
        <h3>3) Installation & Setup</h3>
        <details open>
          <summary>Kali Linux (recommended)</summary>
          <div class="step"><div class="bubble">1</div><div><strong>Update & install</strong>
            <pre><button class="btn copy" data-copy>Copy</button><code>sudo apt update
sudo apt install -y recon-ng
recon-ng
</code></pre></div></div>
          <div class="step"><div class="bubble">2</div><div><strong>If not packaged / latest via pip</strong>
            <pre><button class="btn copy" data-copy>Copy</button><code>python3 -m pip install --upgrade pip wheel
python3 -m pip install recon-ng
recon-ng
</code></pre></div></div>
        </details>
        <details>
          <summary>First launch & interface</summary>
          <p>On start, you‚Äôll see the <code>[recon-ng][default] &gt;</code> prompt (workspace in brackets). Use <code>help</code> to list commands.</p>
        </details>
        <details>
          <summary>Workspaces (keep projects isolated)</summary>
          <pre><button class="btn copy" data-copy>Copy</button><code>workspaces list
workspaces create megacorp
workspaces select megacorp
workspaces remove megacorp
</code></pre>
        </details>
      </section>

      <!-- 4) Core Workflow -->
      <section id="workflow" data-keywords="workflow database modules marketplace keys schema show db">
        <h3>4) Core Concepts: Recon-ng Workflow</h3>
        <div class="grid cols-2">
          <div class="card">
            <h4>Database (SQLite)</h4>
            <p>Each workspace stores tables like <em>domains, hosts, contacts, credentials, leaks, locations</em>. View with <code>show &lt;table&gt;</code> or run SQL via <code>db query</code>.</p>
          </div>
          <div class="card">
            <h4>Modules</h4>
            <pre><button class="btn copy" data-copy>Copy</button><code>modules search github
modules load recon/domains-hosts/hackertarget
info
options set SOURCE default
run
</code></pre>
          </div>
        </div>
        <details>
          <summary>Marketplace & API keys</summary>
          <div class="grid cols-2">
            <div class="card"><h4>Marketplace</h4>
              <pre><button class="btn copy" data-copy>Copy</button><code>marketplace search github
marketplace info recon/contacts-contacts/github_miner
marketplace install recon/contacts-contacts/github_miner
</code></pre></div>
            <div class="card"><h4>API Keys</h4>
              <pre><button class="btn copy" data-copy>Copy</button><code>keys list
keys add github_api &lt;TOKEN&gt;
keys remove github_api
</code></pre>
              <p>Popular services: Google, Shodan, VirusTotal, BuiltWith, HaveIBeenPwned.</p>
            </div>
          </div>
        </details>
      </section>

      <!-- 5) Practical Mission Walkthrough -->
      <section id="mission" data-keywords="walkthrough workspace add domains hosts contacts whois reporting html">
        <h3>5) Practical Walkthrough: Recon Mission</h3>
        <ol>
          <li><strong>Create a workspace</strong>
            <pre><button class="btn copy" data-copy>Copy</button><code>workspaces create megacorp
</code></pre>
          </li>
          <li><strong>Add seed data (domain)</strong>
            <pre><button class="btn copy" data-copy>Copy</button><code>add domains megacorp.com
show domains
</code></pre>
          </li>
          <li><strong>Discover hosts</strong> (e.g. HackerTarget)
            <pre><button class="btn copy" data-copy>Copy</button><code>modules load recon/domains-hosts/hackertarget
info
run
show hosts
</code></pre>
          </li>
          <li><strong>Harvest contacts</strong> (WHOIS POCs)
            <pre><button class="btn copy" data-copy>Copy</button><code>use recon/domains-contacts/whois_pocs
run
show contacts
</code></pre>
          </li>
          <li><strong>Query the DB (SQL)</strong>
            <pre><button class="btn copy" data-copy>Copy</button><code>db query SELECT email FROM contacts;
</code></pre>
          </li>
          <li><strong>Generate HTML report</strong>
            <pre><button class="btn copy" data-copy>Copy</button><code>use reporting/html
info
options set COMPANY megacorp
options set FILENAME ~/.recon-ng/workspaces/megacorp/results.html
run
</code></pre>
          </li>
        </ol>
      </section>

      <!-- 6) Advanced & Best Practices -->
      <section id="advanced" data-keywords="resource files automation pivoting ethics">
        <h3>6) Advanced Techniques & Best Practices</h3>
        <details open>
          <summary>Automate with resource files (.rc)</summary>
          <pre><button class="btn copy" data-copy>Copy</button><code># megacorp.rc
workspaces create megacorp_automated
add domains megacorp.com
use recon/domains-hosts/hackertarget
run
use recon/domains-hosts/google_site_web
run
use recon/domains-contacts/whois_pocs
run
show hosts
show contacts
exit
</code></pre>
          <pre><button class="btn copy" data-copy>Copy</button><code>recon-ng -r /path/to/megacorp.rc
</code></pre>
        </details>
        <details>
          <summary>Pivoting & Scope</summary>
          <p>Use new findings (contacts, netblocks, companies) as inputs for additional modules; document scope and authorization.</p>
        </details>
        <details>
          <summary>Ethics & Privacy</summary>
          <ul>
            <li>Written permission; adhere to scope</li>
            <li>Handle PII securely; purge data per agreement</li>
          </ul>
        </details>
      </section>

      <!-- 7) Lab & Rubric -->
      <section id="lab" data-keywords="lab assessment tasks rubric deliverables">
        <h3>7) Course Lab (45‚Äì60 min)</h3>
        <div class="grid cols-2">
          <div class="card">
            <h4>Tasks</h4>
            <ol>
              <li>Install or launch Recon-ng on Kali (or via pip).</li>
              <li>Create a new workspace and add an authorized training domain.</li>
              <li>Run at least two host discovery modules and one contacts module.</li>
              <li>Export emails with <code>db query</code> and generate the HTML report.</li>
            </ol>
          </div>
          <div class="card">
            <h4>Deliverables</h4>
            <ul>
              <li>Screenshot of Recon-ng prompt showing workspace & module run</li>
              <li>HTML report file + short summary (key findings & ethics)</li>
            </ul>
          </div>
        </div>
        <details>
          <summary>Suggested grading rubric</summary>
          <ul>
            <li>Setup (20%) ‚Äî Installed correctly with notes</li>
            <li>Module use (30%) ‚Äî Appropriate module selection & scope</li>
            <li>Analysis (30%) ‚Äî Accurate, relevant findings & pivots</li>
            <li>Reporting (20%) ‚Äî Clear report & reflection on ethics</li>
          </ul>
        </details>
      </section>

      <!-- 8) Q&A / References -->
      <section id="refs" data-keywords="q&a references wiki github differences maltego detection modules">
        <h3>8) Q&A + References</h3>
        <details>
          <summary>Recon-ng vs Maltego?</summary>
          <p>Recon-ng is CLI‚Äëfirst and excels at structured, queryable workflows; Maltego is GUI‚Äëfirst and superb at visualizing relationships.</p>
        </details>
        <details>
          <summary>Can Recon-ng be detected?</summary>
          <p>Mostly passive modules are undetectable; some active modules may touch targets. Read module descriptions and respect ToS.</p>
        </details>
        <p>Official resources: <a href="https://github.com/lanmaster53/recon-ng" target="_blank" rel="noopener noreferrer">Recon-ng on GitHub</a></p>
      </section>

      <div class="footer">Built for readability in light & dark modes. Toggle theme above to match your environment.</div>
    </main>
  </div>

  <script>
    (function(){
      const html = document.documentElement;
      const root = document.getElementById('root');
      const toc = document.getElementById('toc');
      const content = document.getElementById('content');
      const search = document.getElementById('search');
      const sections = Array.from(content.querySelectorAll('section'));

      // Persist and apply theme (apply to <html> to ensure full coverage)
      const savedTheme = localStorage.getItem('theme');
      const setTheme = (mode)=>{ html.setAttribute('data-theme', mode); localStorage.setItem('theme', mode); };
      setTheme(savedTheme === 'dark' ? 'dark' : 'light');
      document.getElementById('themeLight').addEventListener('click', ()=> setTheme('light'));
      document.getElementById('themeDark').addEventListener('click', ()=> setTheme('dark'));

      // Build TOC
      const makeTitle = (sec)=> (sec.querySelector('h3')?.textContent || sec.id).replace(/^\d+\)\s*/, '');
      sections.forEach(sec => {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = `#${sec.id}`; a.textContent = makeTitle(sec); a.addEventListener('click', ()=> a.blur());
        li.appendChild(a); toc.appendChild(li);
      });

      // Scroll spy
      const spy = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          const link = toc.querySelector(`a[href="#${e.target.id}"]`);
          if (!link) return;
          if (e.isIntersecting) { toc.querySelectorAll('a').forEach(x=>x.classList.remove('active')); link.classList.add('active'); }
        });
      }, { rootMargin: '-40% 0px -55% 0px', threshold: 0.01 });
      sections.forEach(sec=>spy.observe(sec));

      // Quick jump buttons
      document.querySelectorAll('[data-jump]').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          document.getElementById(btn.getAttribute('data-jump'))?.scrollIntoView({behavior:'smooth', block:'start'});
        });
      });

      // Copy-to-clipboard
      document.querySelectorAll('pre .copy').forEach(btn => {
        btn.addEventListener('click', async (e)=>{
          const code = e.currentTarget.closest('pre').querySelector('code').innerText;
          try { await navigator.clipboard.writeText(code); e.currentTarget.textContent = 'Copied!'; setTimeout(()=> e.currentTarget.textContent='Copy', 1200); }
          catch { alert('Copy failed. Select the text manually.'); }
        });
      });

      // Filter content
      search.addEventListener('input', ()=>{
        const q = search.value.trim().toLowerCase();
        sections.forEach(sec=>{
          const hay = (sec.getAttribute('data-keywords')||sec.textContent||'').toLowerCase();
          const match = !q || hay.includes(q);
          sec.style.display = match ? '' : 'none';
          const link = toc.querySelector(`a[href="#${sec.id}"]`);
          if (link) link.parentElement.style.display = match ? '' : 'none';
        });
      });

      // Expand / collapse all details
      const setAll = (open)=> content.querySelectorAll('details').forEach(d => d.open = open);
      document.getElementById('expandAll').addEventListener('click', ()=> setAll(true));
      document.getElementById('collapseAll').addEventListener('click', ()=> setAll(false));
    })();
  </script>
</body>
</html>
